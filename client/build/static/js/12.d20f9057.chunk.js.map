{"version":3,"sources":["assets/caucus-logo.png","pages/NavigateRooms/NavigateRooms.tsx","pages/NavigateRooms/NavigateRooms.module.css"],"names":["LightTooltip","withStyles","theme","tooltip","backgroundColor","palette","common","white","color","boxShadow","shadows","fontSize","borderRadius","Tooltip","NavigateRoom","enqueueSnackbar","useSnackbar","useContext","UserContext","user","logoutUserInfo","useState","link","setLink","backToLoginPage","setBackToLoginPage","PUBLIC_ROOM","pr","Math","floor","random","length","location","useLocation","CLIENT_URL","url","replace","useEffect","tempLocation","state","undefined","showNotification","variant","logoutUser","a","localStorage","removeItem","axios","get","SERVER_URL","className","styles","root","Paper","elevation","toolbar","toolbarHeading","src","Logo","width","height","toolbarText","avatarFlex","TransitionComponent","Zoom","title","name","placement","Avatar","alt","image_link","Button","onClick","Grid","container","direction","heading","item","textfield","TextField","onChange","e","target","value","InputProps","startAdornment","InputAdornment","position","window","href","createRoom","generate","words","alliterative","dashed","to","module","exports"],"mappings":"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","file":"static/js/12.d20f9057.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/caucus-logo.141c5889.png\";","import React, { useState, useContext, useEffect } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Grid,\r\n  InputAdornment,\r\n  Paper,\r\n  TextField,\r\n  Theme,\r\n  Tooltip,\r\n  Zoom,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"service/UserContext\";\r\nimport { UserContextTypes } from \"types\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { CLIENT_URL as url, PUBLIC_ROOM as pr, SERVER_URL } from \"config.keys\";\r\nimport styles from \"./NavigateRooms.module.css\";\r\nimport generate from \"project-name-generator\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Logo from \"assets/caucus-logo.png\";\r\n// import Logo from \"assets/caucus-logo.svg\";\r\n\r\nconst LightTooltip = withStyles((theme: Theme) => ({\r\n  tooltip: {\r\n    backgroundColor: theme.palette.common.white,\r\n    color: \"rgba(0, 0, 0, 1)\",\r\n    boxShadow: theme.shadows[2],\r\n    fontSize: \"14px\",\r\n    borderRadius: \"25px\",\r\n  },\r\n}))(Tooltip);\r\n\r\nconst NavigateRoom = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { user, logoutUserInfo } = useContext(UserContext) as UserContextTypes;\r\n  const [link, setLink] = useState(\"\");\r\n  const [click, setClick] = useState(false);\r\n  const [backToLoginPage, setBackToLoginPage] = useState(false);\r\n  const PUBLIC_ROOM = pr[Math.floor(Math.random() * pr.length)];\r\n  const location = useLocation();\r\n  const CLIENT_URL = url.replace(/^https:\\/\\//i, \"http://\");\r\n\r\n  useEffect(() => {\r\n    const tempLocation = location.state;\r\n    //@ts-ignore\r\n    let showNotification = tempLocation === undefined ? false : tempLocation.showNotification ? true : false;\r\n    if (showNotification) enqueueSnackbar(\"the room you want to enter is full\", { variant: \"warning\" });\r\n  }, []);\r\n\r\n  const logoutUser = async () => {\r\n    localStorage.removeItem(\"isLoggedIn\");\r\n    localStorage.removeItem(\"name\");\r\n    localStorage.removeItem(\"image_link\");\r\n    const response = await axios.get(`${SERVER_URL}/api/logout`);\r\n    logoutUserInfo();\r\n    setBackToLoginPage(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.root}>\r\n        <Paper elevation={5} className={styles.toolbar}>\r\n          <div className={styles.toolbarHeading}>\r\n            <span>\r\n              <img src={Logo} width=\"55x\" height=\"55x\"></img>\r\n            </span>\r\n            <span className={styles.toolbarText}>Caucus</span>\r\n          </div>\r\n          <div className={styles.avatarFlex}>\r\n            <LightTooltip TransitionComponent={Zoom} title={user?.name || \"John Doe\"} placement=\"bottom\">\r\n              <Avatar alt={user?.name} src={user?.image_link} />\r\n            </LightTooltip>\r\n\r\n            <Button\r\n              onClick={async () => {\r\n                await logoutUser();\r\n              }}\r\n            >\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        </Paper>\r\n        <Grid container direction=\"column\">\r\n          <h1 className={styles.heading}>Join a Private Room</h1>\r\n          <Grid item className={styles.textfield}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              onChange={(e) => setLink(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: <InputAdornment position=\"start\">{CLIENT_URL + \"/room/\"}</InputAdornment>,\r\n              }}\r\n            />\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => {\r\n                // setClick(link ? true : false);\r\n                window.location.href = `${CLIENT_URL}/room/${link}`;\r\n              }}\r\n            >\r\n              Join Room\r\n            </Button>\r\n          </Grid>\r\n          <Grid item className={styles.createRoom}>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => {\r\n                window.location.href = `${CLIENT_URL}/room/${\r\n                  generate({ words: 2, alliterative: true }).dashed\r\n                }`;\r\n              }}\r\n            >\r\n              Create a Private Room\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => {\r\n                window.location.href = `${CLIENT_URL}/room/${PUBLIC_ROOM}`;\r\n              }}\r\n            >\r\n              Join A Public Room\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n        <footer>\r\n          Made with <span>&#9829;</span> by Rishabh Malhotra{\"  \"}â€¢{\"  \"}\r\n          <a href=\"https://github.com/Rishabh-malhotraa/caucus\" target=\"__blank\">\r\n            Github\r\n          </a>\r\n        </footer>\r\n        {/* {click ? <Redirect to={`/room/${link}`} /> : <></>} */}\r\n        {backToLoginPage ? <Redirect to={`/`} /> : <></>}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavigateRoom;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NavigateRooms_root__2aP13\",\"toolbar\":\"NavigateRooms_toolbar__SVh_N\",\"toolbarHeading\":\"NavigateRooms_toolbarHeading__2LKCx\",\"toolbarText\":\"NavigateRooms_toolbarText__3p8Th\",\"avatarFlex\":\"NavigateRooms_avatarFlex__1qUrh\",\"heading\":\"NavigateRooms_heading__3-bcx\",\"heading2\":\"NavigateRooms_heading2__3OhY3\",\"textfield\":\"NavigateRooms_textfield__3ookR\",\"createRoom\":\"NavigateRooms_createRoom__3bKiE\"};"],"sourceRoot":""}