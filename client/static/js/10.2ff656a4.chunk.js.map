{"version":3,"sources":["pages/NavigateRooms/NavigateRooms.module.css","assets/caucus-logo.png","pages/NavigateRooms/NavigateRooms.tsx"],"names":["module","exports","LightTooltip","withStyles","theme","tooltip","backgroundColor","palette","common","white","color","boxShadow","shadows","fontSize","borderRadius","Tooltip","NavigateRoom","enqueueSnackbar","useSnackbar","user","logoutUserInfo","useContext","UserContext","link","setLink","useState","click","setClick","backToLoginPage","setBackToLoginPage","PUBLIC_ROOM","pr","Math","floor","random","length","location","useLocation","useEffect","tempLocation","state","undefined","showNotification","variant","className","styles","root","Paper","elevation","toolbar","toolbarHeading","src","Logo","width","height","toolbarText","avatarFlex","TransitionComponent","Zoom","title","name","placement","Avatar","alt","image_link","Button","onClick","async","localStorage","removeItem","axios","get","SERVER_URL","logoutUser","Grid","container","direction","heading","item","textfield","TextField","onChange","e","target","value","InputProps","startAdornment","InputAdornment","position","CLIENT_URL","createRoom","to","generate","words","alliterative","dashed","href"],"mappings":"sFACAA,EAAOC,QAAU,CAAC,KAAO,4BAA4B,QAAU,+BAA+B,eAAiB,sCAAsC,YAAc,mCAAmC,WAAa,kCAAkC,QAAU,+BAA+B,SAAW,gCAAgC,UAAY,iCAAiC,WAAa,oC,sOCDpX,MAA0B,wCCwBzC,MAAMC,EAAeC,aAAYC,IAAD,CAC9BC,QAAS,CACPC,gBAAiBF,EAAMG,QAAQC,OAAOC,MACtCC,MAAO,mBACPC,UAAWP,EAAMQ,QAAQ,GACzBC,SAAU,OACVC,aAAc,WANGX,CAQjBY,KA4FWC,UA1FM,KACnB,MAAM,gBAAEC,GAAoBC,eACtB,KAAEC,EAAF,eAAQC,GAAmBC,qBAAWC,MACrCC,EAAMC,GAAWC,mBAAS,KAC1BC,EAAOC,GAAYF,oBAAS,IAC5BG,EAAiBC,GAAsBJ,oBAAS,GACjDK,EAAcC,IAAGC,KAAKC,MAAMD,KAAKE,SAAWH,IAAGI,SAC/CC,EAAWC,cAEjBC,qBAAU,KACR,MAAMC,EAAeH,EAASI,WAEUC,IAAjBF,KAAqCA,EAAaG,kBACnDzB,EAAgB,qCAAsC,CAAE0B,QAAS,cACtF,IAWH,OACE,mCACE,sBAAKC,UAAWC,IAAOC,KAAvB,UACE,eAACC,EAAA,EAAD,CAAOC,UAAW,EAAGJ,UAAWC,IAAOI,QAAvC,UACE,sBAAKL,UAAWC,IAAOK,eAAvB,UACE,+BACE,qBAAKC,IAAKC,EAAMC,MAAM,MAAMC,OAAO,UAErC,sBAAMV,UAAWC,IAAOU,YAAxB,uBAEF,sBAAKX,UAAWC,IAAOW,WAAvB,UACE,cAACtD,EAAD,CAAcuD,oBAAqBC,IAAMC,OAAW,OAAJxC,QAAI,IAAJA,OAAA,EAAAA,EAAMyC,OAAQ,WAAYC,UAAU,SAApF,SACE,cAACC,EAAA,EAAD,CAAQC,IAAG,OAAE5C,QAAF,IAAEA,OAAF,EAAEA,EAAMyC,KAAMT,IAAG,OAAEhC,QAAF,IAAEA,OAAF,EAAEA,EAAM6C,eAGtC,cAACC,EAAA,EAAD,CACEC,QAASC,eAzBFA,WACjBC,aAAaC,WAAW,cACxBD,aAAaC,WAAW,QACxBD,aAAaC,WAAW,oBACDC,IAAMC,IAAN,UAAaC,IAAb,gBACvBpD,IACAS,GAAmB,IAoBD4C,IAFV,0BASJ,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAA1B,UACE,oBAAIhC,UAAWC,IAAOgC,QAAtB,iCACA,eAACH,EAAA,EAAD,CAAMI,MAAI,EAAClC,UAAWC,IAAOkC,UAA7B,UACE,cAACC,EAAA,EAAD,CACErC,QAAQ,WACRsC,SAAWC,GAAM1D,EAAQ0D,EAAEC,OAAOC,OAClCC,WAAY,CACVC,eAAgB,cAACC,EAAA,EAAD,CAAgBC,SAAS,QAAzB,SAAkCC,IAAa,cAGnE,cAACxB,EAAA,EAAD,CACEtB,QAAQ,YACRuB,QAAS,KACPvC,IAASJ,IAHb,0BASF,eAACmD,EAAA,EAAD,CAAMI,MAAI,EAAClC,UAAWC,IAAO6C,WAA7B,UACE,cAAC,IAAD,CAAMC,GAAE,gBAAWC,IAAS,CAAEC,MAAO,EAAGC,cAAc,IAAQC,QAA9D,SACE,cAAC9B,EAAA,EAAD,CAAQtB,QAAQ,YAAhB,qCAEF,cAAC,IAAD,CAAMgD,GAAE,gBAAW7D,GAAnB,SACE,cAACmC,EAAA,EAAD,CAAQtB,QAAQ,YAAhB,wCAIN,gDACY,0CADZ,uBACqD,KADrD,SAC4D,KAC1D,mBAAGqD,KAAK,wDAAwDb,OAAO,UAAvE,uBAIDzD,EAAQ,cAAC,IAAD,CAAUiE,GAAE,gBAAWpE,KAAa,6BAC5CK,EAAkB,cAAC,IAAD,CAAU+D,GAAE,MAAY","file":"static/js/10.2ff656a4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NavigateRooms_root__1lpoM\",\"toolbar\":\"NavigateRooms_toolbar__1k9PE\",\"toolbarHeading\":\"NavigateRooms_toolbarHeading__3xRha\",\"toolbarText\":\"NavigateRooms_toolbarText__1Bby3\",\"avatarFlex\":\"NavigateRooms_avatarFlex__1WF0y\",\"heading\":\"NavigateRooms_heading__2rgkc\",\"heading2\":\"NavigateRooms_heading2__H7CB9\",\"textfield\":\"NavigateRooms_textfield__gs6p2\",\"createRoom\":\"NavigateRooms_createRoom__3NYTO\"};","export default __webpack_public_path__ + \"static/media/caucus-logo.61d2df3a.png\";","import React, { useState, useContext, useEffect } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Grid,\r\n  InputAdornment,\r\n  Paper,\r\n  TextField,\r\n  Theme,\r\n  Tooltip,\r\n  Zoom,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"service/UserContext\";\r\nimport { UserContextTypes } from \"types\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { CLIENT_URL, PUBLIC_ROOM as pr, SERVER_URL } from \"config.keys\";\r\nimport styles from \"./NavigateRooms.module.css\";\r\nimport generate from \"project-name-generator\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Logo from \"assets/caucus-logo.png\";\r\n\r\nconst LightTooltip = withStyles((theme: Theme) => ({\r\n  tooltip: {\r\n    backgroundColor: theme.palette.common.white,\r\n    color: \"rgba(0, 0, 0, 1)\",\r\n    boxShadow: theme.shadows[2],\r\n    fontSize: \"14px\",\r\n    borderRadius: \"25px\",\r\n  },\r\n}))(Tooltip);\r\n\r\nconst NavigateRoom = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { user, logoutUserInfo } = useContext(UserContext) as UserContextTypes;\r\n  const [link, setLink] = useState(\"\");\r\n  const [click, setClick] = useState(false);\r\n  const [backToLoginPage, setBackToLoginPage] = useState(false);\r\n  const PUBLIC_ROOM = pr[Math.floor(Math.random() * pr.length)];\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const tempLocation = location.state;\r\n    //@ts-ignore\r\n    let showNotification = tempLocation === undefined ? false : tempLocation.showNotification ? true : false;\r\n    if (showNotification) enqueueSnackbar(\"the room you want to enter is full\", { variant: \"warning\" });\r\n  }, []);\r\n\r\n  const logoutUser = async () => {\r\n    localStorage.removeItem(\"isLoggedIn\");\r\n    localStorage.removeItem(\"name\");\r\n    localStorage.removeItem(\"image_link\");\r\n    const response = await axios.get(`${SERVER_URL}/api/logout`);\r\n    logoutUserInfo();\r\n    setBackToLoginPage(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.root}>\r\n        <Paper elevation={5} className={styles.toolbar}>\r\n          <div className={styles.toolbarHeading}>\r\n            <span>\r\n              <img src={Logo} width=\"55x\" height=\"55x\"></img>\r\n            </span>\r\n            <span className={styles.toolbarText}>Caucus</span>\r\n          </div>\r\n          <div className={styles.avatarFlex}>\r\n            <LightTooltip TransitionComponent={Zoom} title={user?.name || \"John Doe\"} placement=\"bottom\">\r\n              <Avatar alt={user?.name} src={user?.image_link} />\r\n            </LightTooltip>\r\n\r\n            <Button\r\n              onClick={async () => {\r\n                await logoutUser();\r\n              }}\r\n            >\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        </Paper>\r\n        <Grid container direction=\"column\">\r\n          <h1 className={styles.heading}>Join a Private Room</h1>\r\n          <Grid item className={styles.textfield}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              onChange={(e) => setLink(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: <InputAdornment position=\"start\">{CLIENT_URL + \"/room/\"}</InputAdornment>,\r\n              }}\r\n            />\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => {\r\n                setClick(link ? true : false);\r\n              }}\r\n            >\r\n              Join Room\r\n            </Button>\r\n          </Grid>\r\n          <Grid item className={styles.createRoom}>\r\n            <Link to={`/room/${generate({ words: 2, alliterative: true }).dashed}`}>\r\n              <Button variant=\"contained\">Create a Private Room</Button>\r\n            </Link>\r\n            <Link to={`/room/${PUBLIC_ROOM}`}>\r\n              <Button variant=\"contained\">Join A Public Room</Button>\r\n            </Link>\r\n          </Grid>\r\n        </Grid>\r\n        <footer>\r\n          Made with <span>&#9829;</span> by Rishabh Malhotra{\"  \"}â€¢{\"  \"}\r\n          <a href=\"https://github.com/Rishabh-malhotraa/codeforces-diary\" target=\"__blank\">\r\n            Github\r\n          </a>\r\n        </footer>\r\n        {click ? <Redirect to={`/room/${link}`} /> : <></>}\r\n        {backToLoginPage ? <Redirect to={`/`} /> : <></>}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavigateRoom;\r\n"],"sourceRoot":""}